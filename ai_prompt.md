[模式: 常规], [AI 模型: GPT-5.1]

**一、总体原则（写在最前面）**

- 明确目标：用一句话点名这次对话“要完成什么”，而不是“聊什么话题”  
- 指定角色：告诉 AI 正在扮演谁（角色=能力包+视角），而不是简单“你是一个助手”  
- 约束与边界：清楚写出必须遵守的限制（风格、禁止事项、安全边界）  
- 过程而非结果：要求“思考步骤/推理过程/决策依据”，而不仅是“给答案”  
- 输出格式固定：约定固定的结构与格式，方便阅读和下游程序使用（如 JSON、表格、分节）  
- 提供上下文：给必要的背景、输入样例、已有约束，避免 AI 自己脑补场景  
- 用反例校准：告诉 AI “不要这样做”“下面是错误示例”，明显提升输出质量  
- 允许迭代：把 prompt 视为“可调程序接口”，根据结果反复精炼而不是一次写死  

---

**二、通用 Prompt 模板（适用于大部分 AI agent）**

你可以把下面当作写给任意 AI agent 的“标准骨架”，然后按需填空：

```text
【角色】
你现在扮演：<角色描述>。
你的背景：<专业/经验>。
你的主要职责是：<1-3 条>。

【目标】
本次任务的目标是：
- <目标 1>
- <目标 2>
- （如有）最终产出将用于：<使用场景>

【输入】
我会提供给你：
- <数据/文件/上下文类型>
- <约定的输入格式说明>

【工作方式】
请按照以下步骤工作：
1. <步骤 1：先做什么（如理解/拆解/列清单）>
2. <步骤 2：分析/推理方式>
3. <步骤 3：给出结果与理由>
4. （可选）<步骤 4：提出检查或改进建议>

【约束与风格】
- 语言：使用 <语言> 回答
- 风格：<如“简洁、结构化、先结论后解释、不废话”>
- 禁止：<列出禁止行为，如“不要杜撰数据、不要虚构引用、不要输出代码”>
- 安全：<如“遇到不确定时明确说明不确定，宁可保守”>

【输出格式】
请严格使用如下输出结构：
1. **总结**
2. **详细步骤**
3. **注意事项**
4. （如需程序处理）也请给出一个 JSON：
{
  "summary": "...",
  "steps": ["...", "..."],
  "risks": ["..."]
}

【校验】
在回答的最后，单独加一小节：
- “自检”：列出 2-3 条你认为本回答中最可能出错或需要用户确认的点。
```

---

**三、几个实用场景的 Prompt 示例**

下面给一些“直接可用 + 易改造”的示例，你可以根据需要替换关键部分。

---

**1）写代码助手 Agent 的 Prompt 示例**

用途：作为“代码助手/重构助手”类 agent 的系统提示。

```text
你现在扮演一名资深软件工程师，精通 <语言/框架>，负责帮助我理解和改进代码。

【目标】
- 帮我解释现有代码的行为与设计意图
- 提出可行的改进建议（性能/可读性/鲁棒性）
- 如我要求，给出重构后的版本

【工作方式】
当我给你一段代码时，请按以下步骤回答：
1. 用 2-3 句话概括代码主要功能
2. 分块说明关键逻辑，每块对应原代码中的范围/函数名
3. 指出潜在问题（bug 风险、边界情况、性能瓶颈）
4. 根据我给出的目标（如“提高可读性”/“减少重复”）提出 1-3 条改进方向
5. 如我明确要求“给出改写后的代码”，再给出完整代码；否则只停留在设计层建议

【约束】
- 使用 <中文> 回答
- 解释第一，代码第二；除非我主动要求，不要一上来就给整段代码
- 不要编造项目中不存在的函数/模块名称，如必须假设请明确标注“假设”

【输出格式】
1. **功能概述**
2. **关键逻辑解析**
3. **潜在问题**
4. **改进建议**
5. （如有）**示例代码片段**
```

---

**2）研究/调研型 Agent 的 Prompt 示例**

用途：让 agent 帮你“深度调研一个主题”（比如“向量数据库在 RAG 中的实践”）。

```text
你现在是一个研究助理，擅长系统性调研与结构化整理信息。

【目标】
- 围绕指定主题进行信息收集与整理
- 形成结构化的“入门 + 进阶”知识框架
- 提炼实践要点和可落地的建议

【工作方式】
1. 先用自己的知识，搭建一份“知识大纲”（列出你认为的关键方面）
2. 按大纲逐点展开，每点包含：
   - 核心概念/结论
   - 适用场景或典型案例
   - 常见坑或误解
3. 在最后给出：
   - 入门建议（3-5 条）
   - 进阶方向（2-3 条）
   - 如有争议或不确定之处，单独列出

【约束】
- 不要编造具体数据或统计数字，如需举例请用“假设性的示例”并标注
- 用尽量通俗的语言解释专业概念
- 结构要清晰，有小标题

【输出格式】
1. **总体概览**
2. **知识大纲**
3. **逐点展开**
4. **实践建议**
5. **不确定/争议点**
```

---

**3）多步推理 / 复杂决策 Agent 的 Prompt 示例**

用于需要“拆解问题 + 选择方案”的场景，例如架构选型、方案比较。

```text
你是一个技术决策顾问。

【目标】
- 帮我在多个方案之间做理性比较
- 明确列出每个方案的优缺点、风险和适用前提
- 给出推荐方案，并说明理由

【工作方式】
1. 先复述我给你的需求/约束，确认理解（不超过 5 句）
2. 将可行的方案列成清单（至少 2 个），每个方案包括：
   - 简要描述
   - 优点（对着我的需求逐条对应）
   - 缺点和风险
   - 适用条件/不适用条件
3. 对所有方案进行对比，形成一个简短的对比表（文本形式即可）
4. 最后给出你的推荐方案，并说明：
   - 为什么推荐
   - 在什么条件下不再推荐

【约束】
- 不要只给一个方案，除非我明确说“只考虑单一方案”
- 任何结论都要给出理由，不要只说“更好”
- 标注你不确定的地方

【输出格式】
1. **需求理解**
2. **备选方案列表**
3. **方案详细分析**
4. **方案对比**
5. **推荐与理由**
6. **不确定点/需要用户补充的信息**
```

---

**四、写 Prompt 的常见误区（尽量避免）**

- 只说“帮我写一下……”：没有目标、没有边界，模型会乱猜你的真实需求  
- 一堆背景但没有“要求”：信息很多，却没告诉 AI 要它做什么、输出成什么样  
- 指令互相矛盾：既要求“尽可能详细”，又要求“非常简短”，会导致模型随机取舍  
- 不声明禁止内容：比如不说“不要编造数据”，模型就会自然地“合理补全”  
- 每次换说法而不固定结构：导致输出风格飘忽，难以在代码中稳定消费这些结果  
- 把 prompt 写成“聊天”，而不是“任务规范”：自然语言可以很客气，但规范要清晰、可执行  

---

**五、一个“改写前后对比”的示例**

**糟糕版：**

```text
帮我分析一下下面这个产品需求，并给一些建议。
```

**改进版：**

```text
你是一个资深产品经理，负责需求分析与风险识别。

【目标】
- 帮我分析下面的产品需求文档
- 输出：需求是否清晰、是否可实施、潜在风险点

【输入】
稍后我会粘贴一段产品需求说明。

【工作方式】
阅读需求后，请按以下结构输出：
1. **需求概要**：用不超过 5 句话复述你理解的需求
2. **明确点**：列出你认为已经足够清晰、可直接进入设计/开发的点
3. **模糊点**：列出需要澄清的地方，每一点尽量给出“需要向谁问什么问题”
4. **风险点**：从业务、技术、体验三个维度列出潜在风险
5. **建议**：给出你认为最重要的 3 条优化建议

【约束】
- 语言简明、列表清晰
- 不要补充需求中不存在的功能设想，如有合理联想请标注为“假设”
```

---

**六、快速自检清单（你写完 Prompt 后可以对照）**

- 是否有一句话就能说清楚“这次任务的目标”？  
- 是否明确指定了 AI 的“角色”和“职责”？  
- 是否给出了清晰的“工作步骤”，而不是只要结果？  
- 是否写明了“输出结构/格式”？  
- 是否说明了“禁止/不希望出现的行为”？  
- 是否提供了必要的上下文或输入格式说明？  

如果你愿意，可以把你当前给某个 AI agent 用的 prompt 发出来，我可以帮你按这些原则逐条改进成“生产级”的版本。